---
## Kafka Vars
reserved_broker_max: 10000
delete_topic_enable: "true"
num_network_threads: 3
num_io_threads: 8
socket_send_buffer_bytes: 102400
socket_receive_buffer_bytes: 102400
socket_request_max_bytes: 104857600
log_dir: "{{ log_basepath }}/kafka"
num_partitions: 1
num_recovery_threads_per_data_dir: 1
log_flush_interval_messages: 10000
log_flush_interval_ms: 1000
log_retention_hours: 6
log_retention_bytes: 1073741824
log_segment_bytes: 1073741824
log_retention_check_interval_ms: 300000
ion_timeout_ms: 6000
confluent_support_metrics_enable: true
confluent_support_customer_id: "anonymous"
auto_create_topics: false
default_replication_factor: "{{ groups['kafka'] | length | root | int }}"

ssl:
  path: /var/private/ssl

local:
  files: ../files

## Kafka SSL Vars
kafka_security:
  server:
    keystore: "kafka.server.keystore.jks"
    truststore: "kafka.server.truststore.jks"
  client:
    truststore: "kafka.client.truststore.jks"

## Schema Registry Vars
listeners_schema: "http://0.0.0.0:8081"
kafkastore_topic: "schema-registry"
debug: "false"

zookeeper_port: 2181
zookeepers: "{% for server in groups['zookeeper'] %}{{ hostvars.get(server).ansible_all_ipv4_addresses | first }}:{{ zookeeper_port }} {% endfor %}"

zookeeper:
  connect: "{{ zookeepers.split() | join(',') }}"
  data_dir: "{{ data_basepath }}/zookeeper"
  log_dir: "{{ data_basepath }}/logs/zookeeper"
  max_cnxns: 0
  init_limit: 5
  sync_limit: 3
  connection_timeout: 6000
